#! /usr/bin/env bash
set -o errexit
set -o pipefail

### Check cmd exist
chkcmd "git"
chkcmd "npm"

### Check is node project exist
chkfile package.json
chkfile package-lock.json

## Check node_modules exist
chkdir node_modules

### Check Major version
set +o errexit
npm outdated
set -o errexit

### Upgrade packages
npm update --save

### Add to git
git add package.json
git add package-lock.json
git commit -m "deps: up"
git push

### Check Major version again
npm outdated
