# brew completion
if type brew &>/dev/null; then
  FPATH=$(brew --prefix)/share/zsh/site-functions:${FPATH}
  zstyle ':completion:*' list-prompt ''
  zstyle ':completion:*' select-prompt ''
  zstyle ':completion:*' menu yes select
  autoload -Uz compinit
  if [ $(date +'%j') != $(stat -f '%Sm' -t '%j' ~/.zcompdump) ]; then
    compinit
  else
    compinit -C
  fi
fi

# variables and path
export CLICOLOR=1
export PATH="/opt/homebrew/opt/mysql-client@5.7/bin:$PATH"
export PATH="/opt/homebrew/opt/node@18/bin:$PATH"

# prompt
autoload -Uz vcs_info
precmd() { vcs_info }
zstyle ':vcs_info:git:*' formats ' %F{6}(%b)%f'
setopt PROMPT_SUBST
PROMPT='%F{2}%~%f${vcs_info_msg_0_} %% '

# alias
CODE_SPACE="$HOME/Codespaces"
CODE_BASE="$CODE_SPACE/my-macos-build"
SCRIPT_HOME="$CODE_BASE/scripts"
CONFIG_HOME="$CODE_BASE/configs"
SCRIPT_PRIVATE_HOME="$HOME/.ssh"
alias ll='ls -lh'
alias la='ls -lah'
alias mmb="code $CODE_BASE"
alias mkgif="sh $SCRIPT_HOME/mkgif.sh"
alias ebk="sh $SCRIPT_HOME/ebk.sh $CONFIG_HOME"
alias urb="sh $SCRIPT_HOME/urb.sh $SCRIPT_HOME $CONFIG_HOME"
alias ua="sh $SCRIPT_HOME/ua.sh $CODE_SPACE"
alias rec="sh $SCRIPT_HOME/rec.sh"
alias rsl="sh $SCRIPT_PRIVATE_HOME/rsl.sh"
alias boxvpn="sh $SCRIPT_PRIVATE_HOME/boxvpn.sh"
alias boxrsync="sh $SCRIPT_PRIVATE_HOME/boxrsync.sh"
alias boxdump="sh $SCRIPT_PRIVATE_HOME/boxdump.sh"

# plugins
source '/opt/homebrew/share/zsh-autosuggestions/zsh-autosuggestions.zsh'
source '/opt/homebrew/opt/zsh-fast-syntax-highlighting/share/zsh-fast-syntax-highlighting/fast-syntax-highlighting.plugin.zsh'
ZSH_AUTOSUGGEST_STRATEGY=(history completion)